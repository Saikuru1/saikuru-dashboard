(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5496,e=>{e.v({header:"AppShell-module__cB5iMW__header",main:"AppShell-module__cB5iMW__main",shell:"AppShell-module__cB5iMW__shell"})},75808,e=>{e.v({content:"Panel-module__Nl9Xia__content",footer:"Panel-module__Nl9Xia__footer",header:"Panel-module__Nl9Xia__header",headerRight:"Panel-module__Nl9Xia__headerRight",panel:"Panel-module__Nl9Xia__panel","status-active":"Panel-module__Nl9Xia__status-active","status-success":"Panel-module__Nl9Xia__status-success","status-warning":"Panel-module__Nl9Xia__status-warning",subtitle:"Panel-module__Nl9Xia__subtitle",title:"Panel-module__Nl9Xia__title"})},11235,e=>{e.v({active:"TimeFrameSelector-module__SMVwNq__active",button:"TimeFrameSelector-module__SMVwNq__button",selector:"TimeFrameSelector-module__SMVwNq__selector"})},39329,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(5496);function a({header:e,children:s}){return(0,t.jsxs)("div",{className:l.default.shell,children:[e&&(0,t.jsx)("div",{className:l.default.header,children:e}),(0,t.jsx)("main",{className:l.default.main,children:s})]})}var i=e.i(75808);function r({title:e,subtitle:s,status:l,headerRight:a,footer:r,children:n}){let d=l?i.default[`status-${l}`]:"",c=`${i.default.panel} ${d}`.trim();return(0,t.jsxs)("section",{className:c,children:[(e||a)&&(0,t.jsxs)("header",{className:i.default.header,children:[(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("h2",{className:i.default.title,children:e}),s&&(0,t.jsx)("span",{className:i.default.subtitle,children:s})]}),a&&(0,t.jsx)("div",{className:i.default.headerRight,children:a})]}),(0,t.jsx)("div",{className:i.default.content,children:n}),r&&(0,t.jsx)("footer",{className:i.default.footer,children:r})]})}function n(){return(0,t.jsxs)("header",{className:"header",children:[(0,t.jsxs)("div",{className:"header-left",children:[(0,t.jsx)("span",{className:"logo",children:"ðŸ¾"}),(0,t.jsx)("h1",{className:"title",children:"Saikuru Protocol"})]}),(0,t.jsx)("div",{className:"header-right",children:(0,t.jsx)("div",{className:"cat-status",children:"Saikuru Cat watching the charts ðŸ‘€"})})]})}function d({loading:e,positions:s}){return(0,t.jsxs)("section",{className:"panel",children:[(0,t.jsxs)("div",{className:"panel-header",children:[(0,t.jsx)("div",{className:"panel-title",children:"Current Open Positions"}),(0,t.jsx)("span",{className:"badge-pill",children:e?"Syncingâ€¦":"Live from GitHub"})]}),s&&0!==s.length||e?(0,t.jsx)("div",{className:"table-wrapper",children:(0,t.jsxs)("table",{className:"saikuru-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Symbol"}),(0,t.jsx)("th",{children:"Entry"}),(0,t.jsx)("th",{children:"Frame"}),(0,t.jsx)("th",{children:"Stop"}),(0,t.jsx)("th",{children:"Current"}),(0,t.jsx)("th",{children:"PnL %"})]})}),(0,t.jsx)("tbody",{children:(s||[]).map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.symbol||"--"}),(0,t.jsx)("td",{children:e.entry_price??e.entry??"--"}),(0,t.jsx)("td",{children:e.frame||e.timeframe||"â€”"}),(0,t.jsx)("td",{children:e.stop??e.stop_price??"â€”"}),(0,t.jsx)("td",{children:e.current??e.last_price??"â€”"}),(0,t.jsx)("td",{className:Number(e.pnl_pct)>=0?"tag-profit":"tag-loss",children:void 0!==e.pnl_pct?`${e.pnl_pct}%`:"â€”"})]},e.id??e.symbol??s))})]})}):(0,t.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No open positions right now. Saikuru Cat is patiently waiting."})]})}function c({loading:e,positions:s}){let l=s&&s.length>0;return(0,t.jsxs)("section",{className:"panel",children:[(0,t.jsxs)("div",{className:"panel-header",children:[(0,t.jsx)("div",{className:"panel-title",children:"Daily Buy Signal"}),(0,t.jsx)("span",{className:"badge-pill",children:"Catapult long-side"})]}),e?(0,t.jsx)("p",{style:{fontSize:"1rem",color:"var(--text-secondary)"},children:"Checking signalsâ€¦"}):l?(0,t.jsxs)(t.Fragment,{children:[s.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:600},children:e.symbol}),(0,t.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Entry @ ",e.entry_price??e.entry??"--"," (",e.frame||e.timeframe||"Daily",")"]})]}),(0,t.jsx)("span",{className:"tag-buy",children:"Buy Stop Armed"})]},e.symbol??s)),(0,t.jsx)("p",{style:{fontSize:"0.78rem",color:"var(--text-muted)",marginTop:6},children:"This panel will evolve into a full daily signal feed (OSC / HOOK / KISS)."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{style:{fontSize:"1.6rem",fontWeight:600,color:"var(--text-secondary)"},children:"None"}),(0,t.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No fresh daily triggers. System is on standby."})]})]})}var o=e.i(11235);let h=["1W","1M","3M","1Y","âˆž"];function m({value:e,onChange:s}){return(0,t.jsx)("div",{className:o.default.selector,children:h.map(l=>(0,t.jsx)("button",{type:"button",className:`${o.default.button} ${e===l?o.default.active:""}`,onClick:()=>s(l),children:l},l))})}let u=[{label:"1W",days:7},{label:"1M",days:30},{label:"3M",days:90},{label:"1Y",days:365},{label:"âˆž",days:1/0}];function x({trades:e=[]}){let[l,a]=(0,s.useState)("âˆž"),i=(0,s.useMemo)(()=>{let t=u.find(e=>e.label===l);if(!t||t.days===1/0)return e;let s=Date.now()-864e5*t.days;return e.filter(e=>new Date(e.exit_time).getTime()>=s)},[e,l]),n=(0,s.useMemo)(()=>{if(!i.length)return{pnl:0,winRate:0,best:0,worst:0};let e=i.map(e=>e.pnl||0),t=e.filter(e=>e>0).length;return{pnl:e.reduce((e,t)=>e+t,0),winRate:t/e.length*100,best:Math.max(...e),worst:Math.min(...e)}},[i]);return(0,t.jsx)(r,{title:"Performance Summary",subtitle:`${l} performance`,status:n.pnl>=0?"success":"warning",headerRight:(0,t.jsx)(m,{value:l,onChange:a}),footer:`Trades counted: ${i.length}`,children:(0,t.jsxs)("div",{className:"perf-grid",children:[(0,t.jsxs)("div",{className:"perf-item primary",children:[(0,t.jsx)("span",{children:"PnL"}),(0,t.jsxs)("strong",{children:[n.pnl>=0?"+":"",n.pnl.toFixed(2),"%"]})]}),(0,t.jsxs)("div",{className:"perf-item",children:[(0,t.jsx)("span",{children:"Win %"}),(0,t.jsxs)("strong",{children:[n.winRate.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{className:"perf-item",children:[(0,t.jsx)("span",{children:"Best Trade"}),(0,t.jsxs)("strong",{children:["+",n.best.toFixed(2),"%"]})]}),(0,t.jsxs)("div",{className:"perf-item",children:[(0,t.jsx)("span",{children:"Worst Trade"}),(0,t.jsxs)("strong",{children:[n.worst.toFixed(2),"%"]})]})]})})}function j({trades:e,loading:s}){let l=e.length&&!e[0].raw;return(0,t.jsxs)("section",{className:"panel",children:[(0,t.jsxs)("div",{className:"panel-header",children:[(0,t.jsx)("div",{className:"panel-title",children:"Historical Trades Ledger"}),(0,t.jsx)("span",{className:"badge-pill",children:"state/trades.log"})]}),s&&(0,t.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Loading historyâ€¦"}),!s&&!e.length&&(0,t.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No trade history parsed yet. Once trades.log has content, it will appear here."}),!s&&e.length>0&&(0,t.jsx)("div",{className:"table-wrapper",children:l?(0,t.jsxs)("table",{className:"saikuru-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Symbol"}),(0,t.jsx)("th",{children:"Entry Date"}),(0,t.jsx)("th",{children:"Exit Date"}),(0,t.jsx)("th",{children:"Frame"}),(0,t.jsx)("th",{children:"Profit %"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>{let s=Number(e.profitPct||e.profit_pct),l=isNaN(s)?e.profitPct||e.profit_pct||"â€”":`${s.toFixed(2)}%`,a=isNaN(s)||0===s?"":s>0?"tag-profit":"tag-loss";return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.symbol||"â€”"}),(0,t.jsx)("td",{children:e.entryDate||e.entry_date||"â€”"}),(0,t.jsx)("td",{children:e.exitDate||e.exit_date||"â€”"}),(0,t.jsx)("td",{children:e.frame||e.timeframe||"â€”"}),(0,t.jsx)("td",{className:a,children:l})]},e.id)})})]}):(0,t.jsxs)("table",{className:"saikuru-table",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:(0,t.jsx)("th",{children:"Raw Log Line"})})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsx)("tr",{children:(0,t.jsx)("td",{style:{whiteSpace:"pre-wrap"},children:e.raw})},e.id))})]})})]})}function p({label:e,value:s,subtitle:l}){return(0,t.jsxs)("div",{className:"metric-card",children:[(0,t.jsx)("div",{className:"metric-label",children:e}),(0,t.jsx)("div",{className:"metric-value",children:s}),l&&(0,t.jsx)("div",{className:"metric-sub",children:l})]})}let f="https://raw.githubusercontent.com/Saikuru1/saikuru-dashboard/main/data",_=`${f}/open_positions.json`,y=`${f}/trades.log`;async function N(){return(await fetch(_,{cache:"no-store"})).json()}async function g(){return(await fetch(y,{cache:"no-store"}).then(e=>e.text())).split("\n").filter(Boolean).map((e,t)=>({id:t,raw:e}))}function v(){let[e,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[h,m]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=!1;return async function(){m(!0);try{let[t,s]=await Promise.all([N(),g()]);e||(l(Array.isArray(t)?t:[]),o(Array.isArray(s)?s:[]))}finally{e||m(!1)}}(),()=>{e=!0}},[]),(0,t.jsxs)(a,{header:(0,t.jsx)(n,{}),children:[(0,t.jsxs)("section",{className:"metrics-grid",children:[(0,t.jsx)(p,{label:"Open Positions",value:e.length}),(0,t.jsx)(p,{label:"Ledger Entries",value:i.length}),(0,t.jsx)(p,{label:"Last Sync",value:new Date().toLocaleTimeString()})]}),(0,t.jsxs)("section",{className:"grid-two",children:[(0,t.jsx)(r,{title:"Open Positions",children:(0,t.jsx)(d,{loading:h,positions:e})}),(0,t.jsx)(r,{title:"Daily Signals",children:(0,t.jsx)(c,{loading:h,positions:e})})]}),(0,t.jsx)(r,{title:"Performance Summary",subtitle:"Selectable PnL window",children:(0,t.jsx)(x,{trades:i})}),(0,t.jsx)(r,{title:"Trade Ledger",children:(0,t.jsx)(j,{trades:i,loading:h})})]})}e.s(["default",()=>v],39329)}]);