(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39329,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function a(){return(0,s.jsxs)("header",{className:"app-header",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"app-title",children:"Saikuru Protocol"}),(0,s.jsx)("p",{className:"app-subtitle",children:"Zero-cost dashboard reading live state from GitHub. Powered by Saikuru AI / Catapult."}),(0,s.jsxs)("div",{className:"nav-tabs",children:[(0,s.jsx)("span",{className:"nav-pill nav-pill--active",children:"Overview"}),(0,s.jsx)("span",{className:"nav-pill",children:"Daily Report"}),(0,s.jsx)("span",{className:"nav-pill",children:"History"}),(0,s.jsx)("span",{className:"nav-pill",children:"Performance"})]})]}),(0,s.jsxs)("div",{className:"cat-logo-wrapper",children:[(0,s.jsx)("span",{className:"cat-chip",children:"Saikuru Cat watching the charts ðŸ‘€"}),(0,s.jsx)("img",{src:"/saikuru_cat.png",alt:"Saikuru Cat",style:{width:70,height:70,borderRadius:"50%",background:"var(--accent-soft)",padding:8,objectFit:"contain"}})]})]})}function l({loading:e,positions:t}){return(0,s.jsxs)("section",{className:"panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsx)("div",{className:"panel-title",children:"Current Open Positions"}),(0,s.jsx)("span",{className:"badge-pill",children:e?"Syncingâ€¦":"Live from GitHub"})]}),t&&0!==t.length||e?(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"saikuru-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Symbol"}),(0,s.jsx)("th",{children:"Entry"}),(0,s.jsx)("th",{children:"Frame"}),(0,s.jsx)("th",{children:"Stop"}),(0,s.jsx)("th",{children:"Current"}),(0,s.jsx)("th",{children:"PnL %"})]})}),(0,s.jsx)("tbody",{children:(t||[]).map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.symbol||"--"}),(0,s.jsx)("td",{children:e.entry_price??e.entry??"--"}),(0,s.jsx)("td",{children:e.frame||e.timeframe||"â€”"}),(0,s.jsx)("td",{children:e.stop??e.stop_price??"â€”"}),(0,s.jsx)("td",{children:e.current??e.last_price??"â€”"}),(0,s.jsx)("td",{className:Number(e.pnl_pct)>=0?"tag-profit":"tag-loss",children:void 0!==e.pnl_pct?`${e.pnl_pct}%`:"â€”"})]},e.id??e.symbol??t))})]})}):(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No open positions right now. Saikuru Cat is patiently waiting."})]})}function r({loading:e,positions:t}){let a=t&&t.length>0;return(0,s.jsxs)("section",{className:"panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsx)("div",{className:"panel-title",children:"Daily Buy Signal"}),(0,s.jsx)("span",{className:"badge-pill",children:"Catapult long-side"})]}),e?(0,s.jsx)("p",{style:{fontSize:"1rem",color:"var(--text-secondary)"},children:"Checking signalsâ€¦"}):a?(0,s.jsxs)(s.Fragment,{children:[t.slice(0,3).map((e,t)=>(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:600},children:e.symbol}),(0,s.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Entry @ ",e.entry_price??e.entry??"--"," (",e.frame||e.timeframe||"Daily",")"]})]}),(0,s.jsx)("span",{className:"tag-buy",children:"Buy Stop Armed"})]},e.symbol??t)),(0,s.jsx)("p",{style:{fontSize:"0.78rem",color:"var(--text-muted)",marginTop:6},children:"This panel will evolve into a full daily signal feed (OSC / HOOK / KISS)."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{style:{fontSize:"1.6rem",fontWeight:600,color:"var(--text-secondary)"},children:"None"}),(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No fresh daily triggers. System is on standby."})]})]})}function i({trades:e}){let t=e.length,a=e.filter(e=>Number(e.profitPct||e.profit_pct)>0).length,l=t?Math.round(a/t*100):0;return(0,s.jsxs)("section",{className:"panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsx)("div",{className:"panel-title",children:"Weekly Summary"}),(0,s.jsx)("span",{className:"badge-pill",children:"High-level overview"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:12,fontSize:"0.8rem"},children:[(0,s.jsxs)("div",{className:"metric-card",children:[(0,s.jsx)("div",{className:"metric-label",children:"Trades This Log"}),(0,s.jsx)("div",{className:"metric-value",children:t})]}),(0,s.jsxs)("div",{className:"metric-card",children:[(0,s.jsx)("div",{className:"metric-label",children:"Win Rate"}),(0,s.jsxs)("div",{className:"metric-value",children:[l,"%"]})]}),(0,s.jsxs)("div",{className:"metric-card",children:[(0,s.jsx)("div",{className:"metric-label",children:"Best Trade"}),(0,s.jsx)("div",{className:"metric-value",children:function(e){if(!e.length)return null;let s=null;for(let t of e){let e=Number(t.profitPct||t.profit_pct);isNaN(e)||(!s||e>s.p)&&(s={label:`${t.symbol??""} ${e.toFixed(2)}%`,p:e})}return s}(e)?.label??"â€”"})]}),(0,s.jsxs)("div",{className:"metric-card",children:[(0,s.jsx)("div",{className:"metric-label",children:"Worst Trade"}),(0,s.jsx)("div",{className:"metric-value",children:function(e){if(!e.length)return null;let s=null;for(let t of e){let e=Number(t.profitPct||t.profit_pct);isNaN(e)||(!s||e<s.p)&&(s={label:`${t.symbol??""} ${e.toFixed(2)}%`,p:e})}return s}(e)?.label??"â€”"})]})]}),(0,s.jsx)("p",{style:{fontSize:"0.78rem",color:"var(--text-muted)",marginTop:10},children:"Future: charts, equity curve, MACD detrend overlay, growth analytics panels."})]})}function n({trades:e,loading:t}){let a=e.length&&!e[0].raw;return(0,s.jsxs)("section",{className:"panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsx)("div",{className:"panel-title",children:"Historical Trades Ledger"}),(0,s.jsx)("span",{className:"badge-pill",children:"state/trades.log"})]}),t&&(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Loading historyâ€¦"}),!t&&!e.length&&(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No trade history parsed yet. Once trades.log has content, it will appear here."}),!t&&e.length>0&&(0,s.jsx)("div",{className:"table-wrapper",children:a?(0,s.jsxs)("table",{className:"saikuru-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Symbol"}),(0,s.jsx)("th",{children:"Entry Date"}),(0,s.jsx)("th",{children:"Exit Date"}),(0,s.jsx)("th",{children:"Frame"}),(0,s.jsx)("th",{children:"Profit %"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{let t=Number(e.profitPct||e.profit_pct),a=isNaN(t)?e.profitPct||e.profit_pct||"â€”":`${t.toFixed(2)}%`,l=isNaN(t)||0===t?"":t>0?"tag-profit":"tag-loss";return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.symbol||"â€”"}),(0,s.jsx)("td",{children:e.entryDate||e.entry_date||"â€”"}),(0,s.jsx)("td",{children:e.exitDate||e.exit_date||"â€”"}),(0,s.jsx)("td",{children:e.frame||e.timeframe||"â€”"}),(0,s.jsx)("td",{className:l,children:a})]},e.id)})})]}):(0,s.jsxs)("table",{className:"saikuru-table",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:(0,s.jsx)("th",{children:"Raw Log Line"})})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsx)("tr",{children:(0,s.jsx)("td",{style:{whiteSpace:"pre-wrap"},children:e.raw})},e.id))})]})})]})}function c({label:e,value:t,subtitle:a}){return(0,s.jsxs)("div",{className:"metric-card",children:[(0,s.jsx)("div",{className:"metric-label",children:e}),(0,s.jsx)("div",{className:"metric-value",children:t}),a&&(0,s.jsx)("div",{className:"metric-sub",children:a})]})}let d="https://raw.githubusercontent.com/Saikuru1/saikuru-dashboard/main/data",o=`${d}/open_positions.json`,h=`${d}/trades.log`;async function m(){return(await fetch(o,{cache:"no-store"})).json()}async function p(){return(await fetch(h,{cache:"no-store"}).then(e=>e.text())).split("\n").filter(Boolean).map((e,s)=>({id:s,raw:e}))}function x(){let[e,d]=(0,t.useState)([]),[o,h]=(0,t.useState)([]),[x,j]=(0,t.useState)(!0),[u,v]=(0,t.useState)(null),y=e.length,g=o.length,N=new Date().toLocaleTimeString();return(0,t.useEffect)(()=>{let e=!1;async function s(){j(!0),v(null);try{let[s,t]=await Promise.all([m(),p()]);e||(d(Array.isArray(s)?s:[]),h(Array.isArray(t)?t:[]))}catch(s){console.error(s),e||v(s.message||"Failed to load dashboard data.")}finally{e||j(!1)}}s();let t=setInterval(s,3e5);return()=>{e=!0,clearInterval(t)}},[]),(0,s.jsxs)("div",{className:"app-shell",children:[(0,s.jsx)(a,{}),(0,s.jsx)("section",{className:"app-grid",style:{marginBottom:18},children:(0,s.jsxs)("div",{className:"metric-grid",children:[(0,s.jsx)(c,{label:"Open Positions",value:x?"...":y,subtitle:"Tracked by Saikuru AI"}),(0,s.jsx)(c,{label:"Ledger Entries",value:x?"...":g,subtitle:"Historical trades.log"}),(0,s.jsx)(c,{label:"Last Sync",value:N,subtitle:"Local time"})]})}),u&&(0,s.jsxs)("div",{className:"panel",style:{marginBottom:16,borderColor:"#ff4d6a"},children:[(0,s.jsx)("div",{className:"panel-header",children:(0,s.jsx)("div",{className:"panel-title",children:"Data Error"})}),(0,s.jsxs)("p",{style:{fontSize:"0.85rem",color:"#ffb3c2"},children:[u," â€“ check that your GitHub raw URLs are reachable and CORS is allowed."]})]}),(0,s.jsxs)("section",{className:"app-grid grid-two",style:{marginBottom:18},children:[(0,s.jsx)(l,{loading:x,positions:e}),(0,s.jsx)(r,{loading:x,positions:e})]}),(0,s.jsx)("section",{className:"app-grid",style:{marginBottom:18},children:(0,s.jsx)(i,{trades:o})}),(0,s.jsx)("section",{className:"app-grid",children:(0,s.jsx)(n,{trades:o,loading:x})})]})}e.s(["default",()=>x],39329)}]);