(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5496,e=>{e.v({header:"AppShell-module__cB5iMW__header",main:"AppShell-module__cB5iMW__main",shell:"AppShell-module__cB5iMW__shell"})},75808,e=>{e.v({content:"Panel-module__Nl9Xia__content",footer:"Panel-module__Nl9Xia__footer",header:"Panel-module__Nl9Xia__header",headerRight:"Panel-module__Nl9Xia__headerRight",panel:"Panel-module__Nl9Xia__panel","status-active":"Panel-module__Nl9Xia__status-active","status-success":"Panel-module__Nl9Xia__status-success","status-warning":"Panel-module__Nl9Xia__status-warning",subtitle:"Panel-module__Nl9Xia__subtitle",title:"Panel-module__Nl9Xia__title"})},11235,e=>{e.v({active:"TimeFrameSelector-module__SMVwNq__active",button:"TimeFrameSelector-module__SMVwNq__button",selector:"TimeFrameSelector-module__SMVwNq__selector"})},39329,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(5496);function a({header:e,children:t}){return(0,s.jsxs)("div",{className:l.default.shell,children:[e&&(0,s.jsx)("div",{className:l.default.header,children:e}),(0,s.jsx)("main",{className:l.default.main,children:t})]})}var r=e.i(75808);function i({title:e,subtitle:t,status:l,headerRight:a,footer:i,children:n}){let c=l?r.default[`status-${l}`]:"",d=`${r.default.panel} ${c}`.trim();return(0,s.jsxs)("section",{className:d,children:[(e||a)&&(0,s.jsxs)("header",{className:r.default.header,children:[(0,s.jsxs)("div",{children:[e&&(0,s.jsx)("h2",{className:r.default.title,children:e}),t&&(0,s.jsx)("span",{className:r.default.subtitle,children:t})]}),a&&(0,s.jsx)("div",{className:r.default.headerRight,children:a})]}),(0,s.jsx)("div",{className:r.default.content,children:n}),i&&(0,s.jsx)("footer",{className:r.default.footer,children:i})]})}function n(){return(0,s.jsxs)("header",{className:"header",children:[(0,s.jsxs)("div",{className:"header-left",children:[(0,s.jsx)("span",{className:"logo",children:"ðŸ¾"}),(0,s.jsx)("h1",{className:"title",children:"Saikuru Protocol"})]}),(0,s.jsx)("div",{className:"header-right",children:(0,s.jsx)("div",{className:"cat-status",children:"Saikuru Cat watching the charts ðŸ‘€"})})]})}function c({loading:e,positions:t}){return(0,s.jsxs)("section",{className:"panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsx)("div",{className:"panel-title",children:"Current Open Positions"}),(0,s.jsx)("span",{className:"badge-pill",children:e?"Syncingâ€¦":"Live from GitHub"})]}),t&&0!==t.length||e?(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"saikuru-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Symbol"}),(0,s.jsx)("th",{children:"Entry"}),(0,s.jsx)("th",{children:"Frame"}),(0,s.jsx)("th",{children:"Stop"}),(0,s.jsx)("th",{children:"Current"}),(0,s.jsx)("th",{children:"PnL %"})]})}),(0,s.jsx)("tbody",{children:(t||[]).map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.symbol||"--"}),(0,s.jsx)("td",{children:e.entry_price??e.entry??"--"}),(0,s.jsx)("td",{children:e.frame||e.timeframe||"â€”"}),(0,s.jsx)("td",{children:e.stop??e.stop_price??"â€”"}),(0,s.jsx)("td",{children:e.current??e.last_price??"â€”"}),(0,s.jsx)("td",{className:Number(e.pnl_pct)>=0?"tag-profit":"tag-loss",children:void 0!==e.pnl_pct?`${e.pnl_pct}%`:"â€”"})]},e.id??e.symbol??t))})]})}):(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No open positions right now. Saikuru Cat is patiently waiting."})]})}function d({loading:e,positions:t}){let l=t&&t.length>0;return(0,s.jsxs)("section",{className:"panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsx)("div",{className:"panel-title",children:"Daily Buy Signal"}),(0,s.jsx)("span",{className:"badge-pill",children:"Catapult long-side"})]}),e?(0,s.jsx)("p",{style:{fontSize:"1rem",color:"var(--text-secondary)"},children:"Checking signalsâ€¦"}):l?(0,s.jsxs)(s.Fragment,{children:[t.slice(0,3).map((e,t)=>(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:600},children:e.symbol}),(0,s.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Entry @ ",e.entry_price??e.entry??"--"," (",e.frame||e.timeframe||"Daily",")"]})]}),(0,s.jsx)("span",{className:"tag-buy",children:"Buy Stop Armed"})]},e.symbol??t)),(0,s.jsx)("p",{style:{fontSize:"0.78rem",color:"var(--text-muted)",marginTop:6},children:"This panel will evolve into a full daily signal feed (OSC / HOOK / KISS)."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{style:{fontSize:"1.6rem",fontWeight:600,color:"var(--text-secondary)"},children:"None"}),(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No fresh daily triggers. System is on standby."})]})]})}var o=e.i(11235);let h=["1W","1M","3M","1Y","âˆž"];function m({value:e,onChange:t}){return(0,s.jsx)("div",{className:o.default.selector,children:h.map(l=>(0,s.jsx)("button",{type:"button",className:`${o.default.button} ${e===l?o.default.active:""}`,onClick:()=>t(l),children:l},l))})}let u=[{label:"1W",days:7},{label:"1M",days:30},{label:"3M",days:90},{label:"1Y",days:365},{label:"âˆž",days:1/0}];function x({trades:e=[]}){let[l,a]=(0,t.useState)("âˆž"),r=(0,t.useMemo)(()=>{let s=u.find(e=>e.label===l);if(!s||s.days===1/0)return e;let t=Date.now()-864e5*s.days;return e.filter(e=>new Date(e.exit_time).getTime()>=t)},[e,l]),n=(0,t.useMemo)(()=>{if(!r.length)return{pnl:0,winRate:0,best:0,worst:0};let e=r.map(e=>e.pnl||0),s=e.filter(e=>e>0).length;return{pnl:e.reduce((e,s)=>e+s,0),winRate:s/e.length*100,best:Math.max(...e),worst:Math.min(...e)}},[r]);return(0,s.jsx)(i,{title:"Performance Summary",subtitle:`${l} window`,status:n.pnl>=0?"success":"warning",headerRight:(0,s.jsx)(m,{value:l,onChange:a}),footer:`Trades counted: ${r.length}`,children:(0,s.jsxs)("div",{className:"performance-metrics",children:[(0,s.jsxs)("div",{className:"performance-metric",children:[(0,s.jsx)("div",{className:"performance-label",children:"PnL"}),(0,s.jsxs)("div",{className:"performance-value",children:[n.pnl>=0?"+":"",n.pnl.toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"performance-metric",children:[(0,s.jsx)("div",{className:"performance-label",children:"Win %"}),(0,s.jsxs)("div",{className:"performance-value",children:[n.winRate.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"performance-metric",children:[(0,s.jsx)("div",{className:"performance-label",children:"Best Trade"}),(0,s.jsxs)("div",{className:"performance-value",children:["+",n.best.toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"performance-metric",children:[(0,s.jsx)("div",{className:"performance-label",children:"Worst Trade"}),(0,s.jsxs)("div",{className:"performance-value",children:[n.worst.toFixed(2),"%"]})]})]})})}function j({trades:e,loading:t}){let l=e.length&&!e[0].raw;return(0,s.jsxs)("section",{className:"panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsx)("div",{className:"panel-title",children:"Historical Trades Ledger"}),(0,s.jsx)("span",{className:"badge-pill",children:"state/trades.log"})]}),t&&(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Loading historyâ€¦"}),!t&&!e.length&&(0,s.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"No trade history parsed yet. Once trades.log has content, it will appear here."}),!t&&e.length>0&&(0,s.jsx)("div",{className:"table-wrapper",children:l?(0,s.jsxs)("table",{className:"saikuru-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Symbol"}),(0,s.jsx)("th",{children:"Entry Date"}),(0,s.jsx)("th",{children:"Exit Date"}),(0,s.jsx)("th",{children:"Frame"}),(0,s.jsx)("th",{children:"Profit %"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{let t=Number(e.profitPct||e.profit_pct),l=isNaN(t)?e.profitPct||e.profit_pct||"â€”":`${t.toFixed(2)}%`,a=isNaN(t)||0===t?"":t>0?"tag-profit":"tag-loss";return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.symbol||"â€”"}),(0,s.jsx)("td",{children:e.entryDate||e.entry_date||"â€”"}),(0,s.jsx)("td",{children:e.exitDate||e.exit_date||"â€”"}),(0,s.jsx)("td",{children:e.frame||e.timeframe||"â€”"}),(0,s.jsx)("td",{className:a,children:l})]},e.id)})})]}):(0,s.jsxs)("table",{className:"saikuru-table",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:(0,s.jsx)("th",{children:"Raw Log Line"})})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsx)("tr",{children:(0,s.jsx)("td",{style:{whiteSpace:"pre-wrap"},children:e.raw})},e.id))})]})})]})}function p({label:e,value:t,subtitle:l}){return(0,s.jsxs)("div",{className:"metric-card",children:[(0,s.jsx)("div",{className:"metric-label",children:e}),(0,s.jsx)("div",{className:"metric-value",children:t}),l&&(0,s.jsx)("div",{className:"metric-sub",children:l})]})}let f="https://raw.githubusercontent.com/Saikuru1/saikuru-dashboard/main/data",N=`${f}/open_positions.json`,_=`${f}/trades.log`;async function v(){return(await fetch(N,{cache:"no-store"})).json()}async function y(){return(await fetch(_,{cache:"no-store"}).then(e=>e.text())).split("\n").filter(Boolean).map((e,s)=>({id:s,raw:e}))}function g(){let[e,l]=(0,t.useState)([]),[r,o]=(0,t.useState)([]),[h,m]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{let e=!1;return async function(){m(!0);try{let[s,t]=await Promise.all([v(),y()]);e||(l(Array.isArray(s)?s:[]),o(Array.isArray(t)?t:[]))}finally{e||m(!1)}}(),()=>{e=!0}},[]),(0,s.jsxs)(a,{header:(0,s.jsx)(n,{}),children:[(0,s.jsxs)("section",{className:"metrics-grid",children:[(0,s.jsx)(p,{label:"Open Positions",value:e.length}),(0,s.jsx)(p,{label:"Ledger Entries",value:r.length}),(0,s.jsx)(p,{label:"Last Sync",value:new Date().toLocaleTimeString()})]}),(0,s.jsxs)("section",{className:"grid-two",children:[(0,s.jsx)(i,{title:"Open Positions",children:(0,s.jsx)(c,{loading:h,positions:e})}),(0,s.jsx)(i,{title:"Daily Signals",children:(0,s.jsx)(d,{loading:h,positions:e})})]}),(0,s.jsx)(x,{trades:r}),(0,s.jsx)(i,{title:"Trade Ledger",children:(0,s.jsx)(j,{trades:r,loading:h})})]})}e.s(["default",()=>g],39329)}]);